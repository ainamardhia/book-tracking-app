{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ainaa\\\\Desktop\\\\book-tracking\\\\book-tracker-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:8000/api\";\nfunction BookTracker() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [stats, setStats] = useState({});\n  const [error, setError] = useState(\"\");\n  const [showAddBook, setShowAddBook] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [bookForm, setBookForm] = useState({\n    title: \"\",\n    author: \"\",\n    status: \"want_to_read\",\n    pages: \"\",\n    current_page: \"\",\n    rating: \"\",\n    notes: \"\"\n  });\n  const [recommendations, setRecommendations] = useState([]);\n  const [aiPrompt, setAiPrompt] = useState(\"\");\n  const [loadingRecommendations, setLoadingRecommendations] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // --- API CALL HELPER ---\n  const api = async (path, options = {}) => {\n    const res = await fetch(`${API_BASE}${path}`, {\n      ...options,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n        ...(options.headers || {})\n      }\n    });\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`API error: ${res.status} - ${text}`);\n    }\n    return res.json();\n  };\n\n  // --- LOAD BOOKS & STATS ---\n  useEffect(() => {\n    if (!token) return;\n    loadBooks();\n    loadStats();\n  }, [token]);\n  const loadBooks = async () => {\n    try {\n      const data = await api(\"/books\");\n      setBooks(data);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load books.\");\n    }\n  };\n  const loadStats = async () => {\n    try {\n      const data = await api(\"/stats\");\n      setStats(data);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load stats.\");\n    }\n  };\n\n  // --- ADD OR EDIT BOOK ---\n  const handleBookSubmit = async e => {\n    e.preventDefault();\n    try {\n      const method = editingBook ? \"PUT\" : \"POST\";\n      const path = editingBook ? `/books/${editingBook.id}` : \"/books\";\n      await api(path, {\n        method,\n        body: JSON.stringify(bookForm)\n      });\n      setShowAddBook(false);\n      setEditingBook(null);\n      setBookForm({\n        title: \"\",\n        author: \"\",\n        status: \"want_to_read\",\n        pages: \"\",\n        current_page: \"\",\n        rating: \"\",\n        notes: \"\"\n      });\n      loadBooks();\n      loadStats();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to save book.\");\n    }\n  };\n  const deleteBook = async id => {\n    if (!window.confirm(\"Delete this book?\")) return;\n    try {\n      await api(`/books/${id}`, {\n        method: \"DELETE\"\n      });\n      loadBooks();\n      loadStats();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to delete book.\");\n    }\n  };\n\n  // --- GEMINI AI RECOMMENDATION ---\n  const fetchRecommendations = async query => {\n    try {\n      setLoadingRecommendations(true);\n      setShowRecommendations(true);\n      const data = await api(\"/recommendations\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          prompt: query\n        })\n      });\n\n      // Handle both JSON and text\n      if (Array.isArray(data.recommendations)) {\n        setRecommendations(data.recommendations);\n      } else if (typeof data.recommendations === \"string\") {\n        const lines = data.recommendations.split(\"\\n\").filter(l => l.trim() !== \"\");\n        setRecommendations(lines.map(line => ({\n          title: line\n        })));\n      } else {\n        setRecommendations([]);\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"AI recommendation failed.\");\n    } finally {\n      setLoadingRecommendations(false);\n    }\n  };\n\n  // --- SAVE AI RECOMMENDED BOOK ---\n  const saveRecommendation = async rec => {\n    try {\n      await api(\"/books\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          title: rec.title,\n          author: rec.author,\n          notes: rec.description,\n          status: \"want_to_read\"\n        })\n      });\n      alert(`Saved \"${rec.title}\" to your library!`);\n      loadBooks();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to save recommended book.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"app-title\",\n      children: \"\\uD83D\\uDCDA Book Tracker with AI Recommendations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"AI Book Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: aiPrompt,\n          onChange: e => setAiPrompt(e.target.value),\n          placeholder: \"Ask AI... e.g. 'Recommend fantasy books like Harry Potter'\",\n          className: \"ai-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-submit\",\n          onClick: () => fetchRecommendations(aiPrompt),\n          disabled: !aiPrompt || loadingRecommendations,\n          children: loadingRecommendations ? \"Loading...\" : \"Get Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), showRecommendations && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recommendation-results\",\n        children: loadingRecommendations ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading AI suggestions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 15\n        }, this) : recommendations.length > 0 ? recommendations.map((r, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recommendation-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommendation-title\",\n            children: r.title || \"Untitled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 19\n          }, this), r.author && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommendation-author\",\n            children: [\"by \", r.author]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 32\n          }, this), r.description && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommendation-description\",\n            children: r.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => saveRecommendation(r),\n            children: \"Save to My Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 19\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No recommendations yet. Try asking AI for ideas!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Reading Stats\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Books: \", stats.total_books || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Completed: \", stats.completed || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Reading: \", stats.reading || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Want to Read: \", stats.want_to_read || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Pages Read: \", stats.total_pages_read || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Average Rating: \", stats.average_rating || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-submit\",\n        onClick: () => setShowAddBook(true),\n        children: \"+ Add Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-list\",\n        children: books.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No books yet. Start adding some!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this) : books.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-title\",\n            children: b.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-author\",\n            children: b.author\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-status\",\n            children: [\"Status: \", b.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this), b.rating && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Rating: \\u2B50 \", b.rating]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: () => {\n                setEditingBook(b);\n                setBookForm(b);\n                setShowAddBook(true);\n              },\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-delete\",\n              onClick: () => deleteBook(b.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this)]\n        }, b.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), showAddBook && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: editingBook ? \"Edit Book\" : \"Add Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleBookSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: bookForm.title,\n              onChange: e => setBookForm({\n                ...bookForm,\n                title: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: bookForm.author,\n              onChange: e => setBookForm({\n                ...bookForm,\n                author: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: bookForm.status,\n              onChange: e => setBookForm({\n                ...bookForm,\n                status: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"want_to_read\",\n                children: \"Want to Read\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"reading\",\n                children: \"Reading\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"completed\",\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Pages\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: bookForm.pages,\n              onChange: e => setBookForm({\n                ...bookForm,\n                pages: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Current Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: bookForm.current_page,\n              onChange: e => setBookForm({\n                ...bookForm,\n                current_page: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rating (1-5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: bookForm.rating,\n              onChange: e => setBookForm({\n                ...bookForm,\n                rating: e.target.value\n              }),\n              min: \"1\",\n              max: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Notes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: bookForm.notes,\n              onChange: e => setBookForm({\n                ...bookForm,\n                notes: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setShowAddBook(false);\n                setEditingBook(null);\n              },\n              className: \"btn-secondary\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-submit\",\n              children: [editingBook ? \"Update\" : \"Add\", \" Book\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n_s(BookTracker, \"gAspq2cCrOwIvwNdYtAZlTKEw8c=\");\n_c = BookTracker;\nexport default BookTracker;\nvar _c;\n$RefreshReg$(_c, \"BookTracker\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API_BASE","BookTracker","_s","books","setBooks","token","setToken","localStorage","getItem","stats","setStats","error","setError","showAddBook","setShowAddBook","editingBook","setEditingBook","bookForm","setBookForm","title","author","status","pages","current_page","rating","notes","recommendations","setRecommendations","aiPrompt","setAiPrompt","loadingRecommendations","setLoadingRecommendations","showRecommendations","setShowRecommendations","api","path","options","res","fetch","headers","Authorization","ok","text","Error","json","loadBooks","loadStats","data","err","console","handleBookSubmit","e","preventDefault","method","id","body","JSON","stringify","deleteBook","window","confirm","fetchRecommendations","query","prompt","Array","isArray","lines","split","filter","l","trim","map","line","saveRecommendation","rec","description","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","placeholder","onClick","disabled","length","r","i","total_books","completed","reading","want_to_read","total_pages_read","average_rating","b","onSubmit","required","min","max","_c","$RefreshReg$"],"sources":["C:/Users/ainaa/Desktop/book-tracking/book-tracker-frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nconst API_BASE = \"http://localhost:8000/api\";\n\nfunction BookTracker() {\n  const [books, setBooks] = useState([]);\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [stats, setStats] = useState({});\n  const [error, setError] = useState(\"\");\n  const [showAddBook, setShowAddBook] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [bookForm, setBookForm] = useState({\n    title: \"\",\n    author: \"\",\n    status: \"want_to_read\",\n    pages: \"\",\n    current_page: \"\",\n    rating: \"\",\n    notes: \"\",\n  });\n\n  const [recommendations, setRecommendations] = useState([]);\n  const [aiPrompt, setAiPrompt] = useState(\"\");\n  const [loadingRecommendations, setLoadingRecommendations] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // --- API CALL HELPER ---\n  const api = async (path, options = {}) => {\n    const res = await fetch(`${API_BASE}${path}`, {\n      ...options,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n        ...(options.headers || {}),\n      },\n    });\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`API error: ${res.status} - ${text}`);\n    }\n    return res.json();\n  };\n\n  // --- LOAD BOOKS & STATS ---\n  useEffect(() => {\n    if (!token) return;\n    loadBooks();\n    loadStats();\n  }, [token]);\n\n  const loadBooks = async () => {\n    try {\n      const data = await api(\"/books\");\n      setBooks(data);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load books.\");\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      const data = await api(\"/stats\");\n      setStats(data);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load stats.\");\n    }\n  };\n\n  // --- ADD OR EDIT BOOK ---\n  const handleBookSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const method = editingBook ? \"PUT\" : \"POST\";\n      const path = editingBook ? `/books/${editingBook.id}` : \"/books\";\n      await api(path, {\n        method,\n        body: JSON.stringify(bookForm),\n      });\n      setShowAddBook(false);\n      setEditingBook(null);\n      setBookForm({\n        title: \"\",\n        author: \"\",\n        status: \"want_to_read\",\n        pages: \"\",\n        current_page: \"\",\n        rating: \"\",\n        notes: \"\",\n      });\n      loadBooks();\n      loadStats();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to save book.\");\n    }\n  };\n\n  const deleteBook = async (id) => {\n    if (!window.confirm(\"Delete this book?\")) return;\n    try {\n      await api(`/books/${id}`, { method: \"DELETE\" });\n      loadBooks();\n      loadStats();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to delete book.\");\n    }\n  };\n\n  // --- GEMINI AI RECOMMENDATION ---\n  const fetchRecommendations = async (query) => {\n    try {\n      setLoadingRecommendations(true);\n      setShowRecommendations(true);\n      const data = await api(\"/recommendations\", {\n        method: \"POST\",\n        body: JSON.stringify({ prompt: query }),\n      });\n\n      // Handle both JSON and text\n      if (Array.isArray(data.recommendations)) {\n        setRecommendations(data.recommendations);\n      } else if (typeof data.recommendations === \"string\") {\n        const lines = data.recommendations.split(\"\\n\").filter((l) => l.trim() !== \"\");\n        setRecommendations(lines.map((line) => ({ title: line })));\n      } else {\n        setRecommendations([]);\n      }\n    } catch (err) {\n      console.error(err);\n      setError(\"AI recommendation failed.\");\n    } finally {\n      setLoadingRecommendations(false);\n    }\n  };\n\n  // --- SAVE AI RECOMMENDED BOOK ---\n  const saveRecommendation = async (rec) => {\n    try {\n      await api(\"/books\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          title: rec.title,\n          author: rec.author,\n          notes: rec.description,\n          status: \"want_to_read\",\n        }),\n      });\n      alert(`Saved \"${rec.title}\" to your library!`);\n      loadBooks();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to save recommended book.\");\n    }\n  };\n\n  return (\n    <div className=\"app-container\">\n      <h1 className=\"app-title\">üìö Book Tracker with AI Recommendations</h1>\n\n      {/* === AI RECOMMENDATION SECTION === */}\n      <div className=\"ai-section\">\n        <h2>AI Book Recommendations</h2>\n        <div className=\"ai-form\">\n          <input\n            type=\"text\"\n            value={aiPrompt}\n            onChange={(e) => setAiPrompt(e.target.value)}\n            placeholder=\"Ask AI... e.g. 'Recommend fantasy books like Harry Potter'\"\n            className=\"ai-input\"\n          />\n          <button\n            className=\"btn-submit\"\n            onClick={() => fetchRecommendations(aiPrompt)}\n            disabled={!aiPrompt || loadingRecommendations}\n          >\n            {loadingRecommendations ? \"Loading...\" : \"Get Recommendations\"}\n          </button>\n        </div>\n\n        {showRecommendations && (\n          <div className=\"recommendation-results\">\n            {loadingRecommendations ? (\n              <p>Loading AI suggestions...</p>\n            ) : recommendations.length > 0 ? (\n              recommendations.map((r, i) => (\n                <div key={i} className=\"recommendation-card\">\n                  <div className=\"recommendation-title\">{r.title || \"Untitled\"}</div>\n                  {r.author && <div className=\"recommendation-author\">by {r.author}</div>}\n                  {r.description && (\n                    <div className=\"recommendation-description\">{r.description}</div>\n                  )}\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={() => saveRecommendation(r)}\n                  >\n                    Save to My Books\n                  </button>\n                </div>\n              ))\n            ) : (\n              <p>No recommendations yet. Try asking AI for ideas!</p>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* === STATS SECTION === */}\n      <div className=\"stats\">\n        <h2>Your Reading Stats</h2>\n        <p>Total Books: {stats.total_books || 0}</p>\n        <p>Completed: {stats.completed || 0}</p>\n        <p>Reading: {stats.reading || 0}</p>\n        <p>Want to Read: {stats.want_to_read || 0}</p>\n        <p>Pages Read: {stats.total_pages_read || 0}</p>\n        <p>Average Rating: {stats.average_rating || 0}</p>\n      </div>\n\n      {/* === BOOKS LIST === */}\n      <div className=\"books-section\">\n        <h2>My Books</h2>\n        <button className=\"btn-submit\" onClick={() => setShowAddBook(true)}>\n          + Add Book\n        </button>\n\n        <div className=\"book-list\">\n          {books.length === 0 ? (\n            <p>No books yet. Start adding some!</p>\n          ) : (\n            books.map((b) => (\n              <div key={b.id} className=\"book-card\">\n                <div className=\"book-title\">{b.title}</div>\n                <div className=\"book-author\">{b.author}</div>\n                <div className=\"book-status\">Status: {b.status}</div>\n                {b.rating && <div>Rating: ‚≠ê {b.rating}</div>}\n                <div className=\"book-actions\">\n                  <button\n                    className=\"btn-secondary\"\n                    onClick={() => {\n                      setEditingBook(b);\n                      setBookForm(b);\n                      setShowAddBook(true);\n                    }}\n                  >\n                    Edit\n                  </button>\n                  <button className=\"btn-delete\" onClick={() => deleteBook(b.id)}>\n                    Delete\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* === ADD / EDIT BOOK MODAL === */}\n      {showAddBook && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h2>{editingBook ? \"Edit Book\" : \"Add Book\"}</h2>\n            <form onSubmit={handleBookSubmit}>\n              <div className=\"form-group\">\n                <label>Title</label>\n                <input\n                  type=\"text\"\n                  value={bookForm.title}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, title: e.target.value })\n                  }\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Author</label>\n                <input\n                  type=\"text\"\n                  value={bookForm.author}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, author: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Status</label>\n                <select\n                  value={bookForm.status}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, status: e.target.value })\n                  }\n                >\n                  <option value=\"want_to_read\">Want to Read</option>\n                  <option value=\"reading\">Reading</option>\n                  <option value=\"completed\">Completed</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Pages</label>\n                <input\n                  type=\"number\"\n                  value={bookForm.pages}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, pages: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Current Page</label>\n                <input\n                  type=\"number\"\n                  value={bookForm.current_page}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, current_page: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Rating (1-5)</label>\n                <input\n                  type=\"number\"\n                  value={bookForm.rating}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, rating: e.target.value })\n                  }\n                  min=\"1\"\n                  max=\"5\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Notes</label>\n                <textarea\n                  value={bookForm.notes}\n                  onChange={(e) =>\n                    setBookForm({ ...bookForm, notes: e.target.value })\n                  }\n                />\n              </div>\n\n              <div className=\"modal-actions\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowAddBook(false);\n                    setEditingBook(null);\n                  }}\n                  className=\"btn-secondary\"\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"btn-submit\">\n                  {editingBook ? \"Update\" : \"Add\"} Book\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {error && <div className=\"error-message\">{error}</div>}\n    </div>\n  );\n}\n\nexport default BookTracker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}